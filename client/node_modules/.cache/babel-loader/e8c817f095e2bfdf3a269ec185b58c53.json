{"ast":null,"code":"import { toast } from \"react-toastify\";\nexport async function handleLogin(username, password, navigate) {\n  try {\n    const request = await fetch(\"http://localhost:4000/login\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        username,\n        password\n      }),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await request.json();\n\n    if (data.error_message) {\n      toast.error(data.error_message);\n    } else {\n      toast.success(data.message);\n      localStorage.setItem(\"_id\", data.data._id);\n      localStorage.setItem(\"_myEmail\", data.data._email);\n      navigate(\"/dashboard\");\n    }\n  } catch (err) {\n    console.error(err);\n  }\n}\nexport async function handleRegister(email, username, password, navigate) {\n  try {\n    const request = await fetch(\"http://localhost:4000/register\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        email,\n        username,\n        password\n      }),\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const data = await request.json();\n\n    if (data.error_message) {\n      toast.error(data.error_message);\n    } else {\n      toast.success(data.message);\n      navigate(\"/\");\n    }\n  } catch (err) {\n    console.error(err);\n    toast.error(\"Account creation failed\");\n  }\n}","map":{"version":3,"names":["toast","handleLogin","username","password","navigate","request","fetch","method","body","JSON","stringify","headers","Accept","data","json","error_message","error","success","message","localStorage","setItem","_id","_email","err","console","handleRegister","email"],"sources":["C:/Users/UNS_CT/Desktop/work/240-311/TODO_Final/todolist-with-react-and-socketIO/client/src/utils/resource.js"],"sourcesContent":["import { toast } from \"react-toastify\";\n\nexport async function handleLogin(username, password, navigate) {\n\ttry {\n\t\tconst request = await fetch(\"http://localhost:4000/login\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\t\tconst data = await request.json();\n\t\tif (data.error_message) {\n\t\t\ttoast.error(data.error_message);\n\t\t} else {\n\t\t\ttoast.success(data.message);\n\t\t\tlocalStorage.setItem(\"_id\", data.data._id);\n\t\t\tlocalStorage.setItem(\"_myEmail\", data.data._email);\n\t\t\tnavigate(\"/dashboard\");\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err);\n\t}\n}\nexport async function handleRegister(email, username, password, navigate) {\n\ttry {\n\t\tconst request = await fetch(\"http://localhost:4000/register\", {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail,\n\t\t\t\tusername,\n\t\t\t\tpassword,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\tAccept: \"application/json\",\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t});\n\t\tconst data = await request.json();\n\t\tif (data.error_message) {\n\t\t\ttoast.error(data.error_message);\n\t\t} else {\n\t\t\ttoast.success(data.message);\n\t\t\tnavigate(\"/\");\n\t\t}\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\ttoast.error(\"Account creation failed\");\n\t}\n}\n"],"mappings":"AAAA,SAASA,KAAT,QAAsB,gBAAtB;AAEA,OAAO,eAAeC,WAAf,CAA2BC,QAA3B,EAAqCC,QAArC,EAA+CC,QAA/C,EAAyD;EAC/D,IAAI;IACH,MAAMC,OAAO,GAAG,MAAMC,KAAK,CAAC,6BAAD,EAAgC;MAC1DC,MAAM,EAAE,MADkD;MAE1DC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACpBR,QADoB;QAEpBC;MAFoB,CAAf,CAFoD;MAM1DQ,OAAO,EAAE;QACRC,MAAM,EAAE,kBADA;QAER,gBAAgB;MAFR;IANiD,CAAhC,CAA3B;IAWA,MAAMC,IAAI,GAAG,MAAMR,OAAO,CAACS,IAAR,EAAnB;;IACA,IAAID,IAAI,CAACE,aAAT,EAAwB;MACvBf,KAAK,CAACgB,KAAN,CAAYH,IAAI,CAACE,aAAjB;IACA,CAFD,MAEO;MACNf,KAAK,CAACiB,OAAN,CAAcJ,IAAI,CAACK,OAAnB;MACAC,YAAY,CAACC,OAAb,CAAqB,KAArB,EAA4BP,IAAI,CAACA,IAAL,CAAUQ,GAAtC;MACAF,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCP,IAAI,CAACA,IAAL,CAAUS,MAA3C;MACAlB,QAAQ,CAAC,YAAD,CAAR;IACA;EACD,CArBD,CAqBE,OAAOmB,GAAP,EAAY;IACbC,OAAO,CAACR,KAAR,CAAcO,GAAd;EACA;AACD;AACD,OAAO,eAAeE,cAAf,CAA8BC,KAA9B,EAAqCxB,QAArC,EAA+CC,QAA/C,EAAyDC,QAAzD,EAAmE;EACzE,IAAI;IACH,MAAMC,OAAO,GAAG,MAAMC,KAAK,CAAC,gCAAD,EAAmC;MAC7DC,MAAM,EAAE,MADqD;MAE7DC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACpBgB,KADoB;QAEpBxB,QAFoB;QAGpBC;MAHoB,CAAf,CAFuD;MAO7DQ,OAAO,EAAE;QACRC,MAAM,EAAE,kBADA;QAER,gBAAgB;MAFR;IAPoD,CAAnC,CAA3B;IAYA,MAAMC,IAAI,GAAG,MAAMR,OAAO,CAACS,IAAR,EAAnB;;IACA,IAAID,IAAI,CAACE,aAAT,EAAwB;MACvBf,KAAK,CAACgB,KAAN,CAAYH,IAAI,CAACE,aAAjB;IACA,CAFD,MAEO;MACNf,KAAK,CAACiB,OAAN,CAAcJ,IAAI,CAACK,OAAnB;MACAd,QAAQ,CAAC,GAAD,CAAR;IACA;EACD,CApBD,CAoBE,OAAOmB,GAAP,EAAY;IACbC,OAAO,CAACR,KAAR,CAAcO,GAAd;IACAvB,KAAK,CAACgB,KAAN,CAAY,yBAAZ;EACA;AACD"},"metadata":{},"sourceType":"module"}
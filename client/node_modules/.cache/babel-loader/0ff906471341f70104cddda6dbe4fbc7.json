{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UNS_CT\\\\Desktop\\\\work\\\\240-311\\\\TODO_Final\\\\todolist-with-react-and-socketIO\\\\client\\\\src\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Modal = _ref => {\n  _s();\n\n  let {\n    showModal,\n    setShowModal,\n    selectedItemID,\n    socket\n  } = _ref;\n  const modalRef = useRef();\n  const [comment, setComment] = useState(\"\");\n  const [comments, setComments] = useState([]);\n\n  const closeModal = e => {\n    if (modalRef.current === e.target) {\n      setShowModal(!showModal);\n    }\n  };\n\n  const addComment = e => {\n    e.preventDefault();\n    socket.emit(\"updateComment\", {\n      todoID: selectedItemID,\n      comment,\n      user: localStorage.getItem(\"_username\")\n    });\n    setComment(\"\");\n  };\n\n  useEffect(() => {\n    socket.on(\"commentsReceived\", todo => setComments(todo.comments));\n  }, [socket]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    onClick: closeModal,\n    ref: modalRef,\n    style: {\n      backgroundImage: `url('https://cdn2.vectorstock.com/i/1000x1000/32/26/light-white-gray-texture-background-digital-vector-28503226.jpg')`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"comment__form\",\n        onSubmit: addComment,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"comment__input\",\n          type: \"text\",\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Add Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments__container\",\n        children: comments.length > 0 ? comments.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [item.name, \" - \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 19\n            }, this), \" \", item.text]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No comments available yet...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"returnBtn\",\n          children: \"RETURN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Modal, \"6ygKRdYe7537PvuA216bL/y9VpQ=\");\n\n_c = Modal;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","Modal","showModal","setShowModal","selectedItemID","socket","modalRef","comment","setComment","comments","setComments","closeModal","e","current","target","addComment","preventDefault","emit","todoID","user","localStorage","getItem","on","todo","backgroundImage","backgroundSize","backgroundPosition","value","length","map","item","index","name","text"],"sources":["C:/Users/UNS_CT/Desktop/work/240-311/TODO_Final/todolist-with-react-and-socketIO/client/src/components/Main.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst Modal = ({ showModal, setShowModal, selectedItemID, socket }) => {\n  const modalRef = useRef();\n  const [comment, setComment] = useState(\"\");\n  const [comments, setComments] = useState([]);\n\n  const closeModal = (e) => {\n    if (modalRef.current === e.target) {\n      setShowModal(!showModal);\n    }\n  };\n  const addComment = (e) => {\n    e.preventDefault();\n    socket.emit(\"updateComment\", {\n      todoID: selectedItemID,\n      comment,\n      user: localStorage.getItem(\"_username\"),\n    });\n    setComment(\"\");\n  };\n  useEffect(() => {\n    socket.on(\"commentsReceived\", (todo) => setComments(todo.comments));\n  }, [socket]);\n\n  return (\n    <div\n      className=\"modal\"\n      onClick={closeModal}\n      ref={modalRef}\n      style={{\n        backgroundImage: `url('https://cdn2.vectorstock.com/i/1000x1000/32/26/light-white-gray-texture-background-digital-vector-28503226.jpg')`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n      }}\n    >\n      <div className=\"modal__container\">\n        <h3>Comments</h3>\n        <form className=\"comment__form\" onSubmit={addComment}>\n          <input\n            className=\"comment__input\"\n            type=\"text\"\n            value={comment}\n            onChange={(e) => setComment(e.target.value)}\n            required\n          />\n          <button>Add Comment</button>\n        </form>\n        <div className=\"comments__container\">\n          {comments.length > 0 ? (\n            comments.map((item, index) => (\n              <div className=\"comment\" key={index}>\n                <p>\n                  <strong>{item.name} - </strong> {item.text}\n                </p>\n              </div>\n            ))\n          ) : (\n            <p>No comments available yet...</p>\n          )}\n        </div>\n        <Link to=\"/\">\n          <button className=\"returnBtn\">RETURN</button>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
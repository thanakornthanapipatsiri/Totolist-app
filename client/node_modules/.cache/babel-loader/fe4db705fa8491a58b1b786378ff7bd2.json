{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UNS_CT\\\\Desktop\\\\work\\\\240-311\\\\todolist-with-react-and-socketIO\\\\client\\\\src\\\\components\\\\Modal.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Modal = _ref => {\n  _s();\n\n  let {\n    showModal,\n    setShowModal,\n    selectedItemID,\n    socket\n  } = _ref;\n  const modalRef = useRef();\n  const [comment, setComment] = useState(\"\");\n  const [comments, setComments] = useState([]);\n\n  const closeModal = e => {\n    if (modalRef.current === e.target) {\n      setShowModal(!showModal);\n    }\n  };\n\n  const addComment = e => {\n    e.preventDefault();\n    socket.emit(\"updateComment\", {\n      todoID: selectedItemID,\n      comment,\n      user: localStorage.getItem(\"_username\")\n    });\n    setComment(\"\");\n  };\n\n  useEffect(() => {\n    socket.on(\"commentsReceived\", todo => setComments(todo.comments));\n  }, [socket]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    onClick: closeModal,\n    ref: modalRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"comment__form\",\n        onSubmit: addComment,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"comment__input\",\n          type: \"text\",\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Add Comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comments__container\",\n        children: comments.length > 0 ? comments.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: [item.name, \" - \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 10\n            }, this), \" \", item.text]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 9\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 8\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No comments available yet...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 3\n  }, this);\n};\n\n_s(Modal, \"6ygKRdYe7537PvuA216bL/y9VpQ=\");\n\n_c = Modal;\nexport default Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Modal","showModal","setShowModal","selectedItemID","socket","modalRef","comment","setComment","comments","setComments","closeModal","e","current","target","addComment","preventDefault","emit","todoID","user","localStorage","getItem","on","todo","value","length","map","item","index","name","text"],"sources":["C:/Users/UNS_CT/Desktop/work/240-311/todolist-with-react-and-socketIO/client/src/components/Modal.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n\nconst Modal = ({ showModal, setShowModal, selectedItemID, socket }) => {\n\tconst modalRef = useRef();\n\tconst [comment, setComment] = useState(\"\");\n\tconst [comments, setComments] = useState([]);\n\n\tconst closeModal = (e) => {\n\t\tif (modalRef.current === e.target) {\n\t\t\tsetShowModal(!showModal);\n\t\t}\n\t};\n\tconst addComment = (e) => {\n\t\te.preventDefault();\n\t\tsocket.emit(\"updateComment\", {\n\t\t\ttodoID: selectedItemID,\n\t\t\tcomment,\n\t\t\tuser: localStorage.getItem(\"_username\"),\n\t\t});\n\t\tsetComment(\"\");\n\t};\n\tuseEffect(() => {\n\t\tsocket.on(\"commentsReceived\", (todo) => setComments(todo.comments));\n\t}, [socket]);\n\n\treturn (\n\t\t<div className='modal' onClick={closeModal} ref={modalRef}>\n\t\t\t<div className='modal__container'>\n\t\t\t\t<h3>Comments</h3>\n\t\t\t\t<form className='comment__form' onSubmit={addComment}>\n\t\t\t\t\t<input\n\t\t\t\t\t\tclassName='comment__input'\n\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\tvalue={comment}\n\t\t\t\t\t\tonChange={(e) => setComment(e.target.value)}\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<button>Add Comment</button>\n\t\t\t\t</form>\n\t\t\t\t<div className='comments__container'>\n\t\t\t\t\t{comments.length > 0 ? (\n\t\t\t\t\t\tcomments.map((item, index) => (\n\t\t\t\t\t\t\t<div className='comment' key={index}>\n\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t<strong>{item.name} - </strong> {item.text}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<p>No comments available yet...</p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Modal;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;;;AAEA,MAAMC,KAAK,GAAG,QAAyD;EAAA;;EAAA,IAAxD;IAAEC,SAAF;IAAaC,YAAb;IAA2BC,cAA3B;IAA2CC;EAA3C,CAAwD;EACtE,MAAMC,QAAQ,GAAGP,MAAM,EAAvB;EACA,MAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;;EAEA,MAAMW,UAAU,GAAIC,CAAD,IAAO;IACzB,IAAIN,QAAQ,CAACO,OAAT,KAAqBD,CAAC,CAACE,MAA3B,EAAmC;MAClCX,YAAY,CAAC,CAACD,SAAF,CAAZ;IACA;EACD,CAJD;;EAKA,MAAMa,UAAU,GAAIH,CAAD,IAAO;IACzBA,CAAC,CAACI,cAAF;IACAX,MAAM,CAACY,IAAP,CAAY,eAAZ,EAA6B;MAC5BC,MAAM,EAAEd,cADoB;MAE5BG,OAF4B;MAG5BY,IAAI,EAAEC,YAAY,CAACC,OAAb,CAAqB,WAArB;IAHsB,CAA7B;IAKAb,UAAU,CAAC,EAAD,CAAV;EACA,CARD;;EASAV,SAAS,CAAC,MAAM;IACfO,MAAM,CAACiB,EAAP,CAAU,kBAAV,EAA+BC,IAAD,IAAUb,WAAW,CAACa,IAAI,CAACd,QAAN,CAAnD;EACA,CAFQ,EAEN,CAACJ,MAAD,CAFM,CAAT;EAIA,oBACC;IAAK,SAAS,EAAC,OAAf;IAAuB,OAAO,EAAEM,UAAhC;IAA4C,GAAG,EAAEL,QAAjD;IAAA,uBACC;MAAK,SAAS,EAAC,kBAAf;MAAA,wBACC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,eAEC;QAAM,SAAS,EAAC,eAAhB;QAAgC,QAAQ,EAAES,UAA1C;QAAA,wBACC;UACC,SAAS,EAAC,gBADX;UAEC,IAAI,EAAC,MAFN;UAGC,KAAK,EAAER,OAHR;UAIC,QAAQ,EAAGK,CAAD,IAAOJ,UAAU,CAACI,CAAC,CAACE,MAAF,CAASU,KAAV,CAJ5B;UAKC,QAAQ;QALT;UAAA;UAAA;UAAA;QAAA,QADD,eAQC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QARD;MAAA;QAAA;QAAA;QAAA;MAAA,QAFD,eAYC;QAAK,SAAS,EAAC,qBAAf;QAAA,UACEf,QAAQ,CAACgB,MAAT,GAAkB,CAAlB,GACAhB,QAAQ,CAACiB,GAAT,CAAa,CAACC,IAAD,EAAOC,KAAP,kBACZ;UAAK,SAAS,EAAC,SAAf;UAAA,uBACC;YAAA,wBACC;cAAA,WAASD,IAAI,CAACE,IAAd;YAAA;cAAA;cAAA;cAAA;YAAA,QADD,OACkCF,IAAI,CAACG,IADvC;UAAA;YAAA;YAAA;YAAA;UAAA;QADD,GAA8BF,KAA9B;UAAA;UAAA;UAAA;QAAA,QADD,CADA,gBASA;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAVF;QAAA;QAAA;QAAA;MAAA,QAZD;IAAA;MAAA;MAAA;MAAA;IAAA;EADD;IAAA;IAAA;IAAA;EAAA,QADD;AA8BA,CArDD;;GAAM3B,K;;KAAAA,K;AAuDN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}